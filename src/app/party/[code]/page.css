.party-lobby-container {
  padding: 2rem;
}

/* Match Propose button red for motto vote button
   Requirement: dark by default, light on hover */
.party-motto-vote-btn--red {
  /* Base: dark */
  background: #991b1b; /* red-800 */
  color: #fff;
  border-color: #7f1d1d; /* red-900 */
}
.party-motto-vote-btn--red:hover {
  /* Hover: lighter */
  background: #b91c1c; /* red-700 */
  color: #fff;
  border-color: #991b1b; /* red-800 */
}

.party-lobby-card {
  max-width: 56rem;
  margin: 0 auto;
  background-color: var(--card);
  padding: 1.5rem;
}

.party-lobby-title {
  font-size: 2rem;
  font-weight: bold;
  text-align: center;
  color: var(--primary);
  margin-bottom: 0.5rem;
}
.party-motto-row {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  margin-bottom: 0.5rem;
}
.party-motto-text {
  font-size: 1.1rem;
  font-style: italic;
  color: var(--secondary);
}
.party-motto-empty {
  color: var(--muted);
}
.party-motto-vote-btn {
  border: 1px solid var(--border);
  background: var(--background);
  cursor: pointer;
  /* make square, compact icon buttons */
  width: 28px;
  height: 28px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0;              /* square: no extra padding */
  border-radius: 6px;
  font-size: 0.9rem;       /* icon/text size inside */
  line-height: 1;          /* tighten inline height */
}
.party-motto-vote-btn:hover {
  background: var(--card);
}

.party-code {
  text-align: center;
  color: var(--muted);
  margin-bottom: 1.5rem;
}

.party-code-span {
  font-weight: bold;
  color: var(--secondary);
}

.start-quest-container {
  text-align: center;
  margin: 1.5rem 0;
}

.start-quest-button {
  padding: 1rem 2rem;
  font-size: 1.25rem;
  font-weight: bold;
  color: var(--primary-foreground);
  background-color: var(--accent);
  border: none;
  cursor: pointer;
}

/* Remove conflicting duplicate: keep dark base, light on hover (defined above) */
.party-motto-vote-btn--red {
  background: #991b1b; /* red-800 */
  color: #fff;
  border-color: #7f1d1d; /* red-900 */
}
.party-motto-vote-btn--red:hover {
  background: #b91c1c; /* red-700 */
  color: #fff;
  border-color: #991b1b; /* red-800 */
}

.members-title {
  font-size: 1.5rem;
  font-weight: bold;
  margin-bottom: 1rem;
}

.members-container {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1rem;
  align-items: stretch; /* ensure equal height columns */
  grid-auto-rows: 1fr; /* consistent row height based on tallest item in row */
}
@media (min-width: 640px) {
  .members-container {
    grid-template-columns: 1fr 1fr;
  }
}
@media (min-width: 1024px) {
  .members-container {
    grid-template-columns: 1fr 1fr 1fr;
  }
}

.member-card {
  position: relative;
  display: flex;             /* make card a flex column */
  flex-direction: column;
  height: 100%;              /* fill grid cell height */
  min-height: 180px;         /* guardrail so short-content cards don't collapse */
  padding: 1rem;
  border: 1px solid var(--border);
  background-color: var(--background);
  border-radius: 10px;
  box-shadow: 0 1px 0 rgba(0,0,0,0.04);
  transition: transform 120ms ease, box-shadow 120ms ease, border-color 120ms ease;
  box-sizing: border-box;    /* include padding/border in height calc */
  overflow: hidden;          /* prevent child overflow causing overlap */
}
.member-card:hover {
  transform: translateY(-2px);
  border-color: var(--secondary);
  box-shadow: 0 8px 20px rgba(0,0,0,0.08);
}

.member-card__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

/* New header row to align status at far right */
.member-header-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.5rem;
}

.member-status-right {
  margin-left: auto;
  display: inline-flex;
  align-items: center;
}

.member-name {
  font-size: 1.15rem;
  font-weight: 800;
  letter-spacing: 0.2px;
  color: var(--primary);
  display: flex;
  align-items: center;
  gap: 0.25rem;
}

/* tighten inline icon sizing so crowns/shields don't push layout */
.member-name .icon {
  font-size: 0.95rem;
  line-height: 1;
  margin-left: 0.15rem;
}

/* small inline icon next to names */
.icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 1rem;
  margin-left: 0.25rem;
}

.member-meta {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  position: relative;
}

/* kebab button for options */
.options-icon {
  border: 1px solid var(--border);
  background: var(--background);
  padding: 0.15rem 0.4rem;
  border-radius: 6px;
  cursor: pointer;
}
.options-icon:hover {
  background: var(--card);
}

/* floating action menu for member options */
.vote-menu {
  position: absolute;
  top: 120%;
  right: 0;
  min-width: 200px;
  background: #faf4e6; /* parchment-esque */
  border: 1px solid var(--border);
  border-radius: 8px;
  box-shadow: 0 8px 22px rgba(0,0,0,0.12);
  padding: 0.5rem;
  z-index: 10;
}
.vote-menu button {
  width: 100%;
  background: transparent;
  border: none;
  text-align: left;
  padding: 0.45rem 0.5rem;
  border-radius: 6px;
  cursor: pointer;
  color: var(--primary);
}
.vote-menu button:hover {
  background: rgba(0,0,0,0.05);
}

.member-card__body {
  margin-top: 0.5rem;
  flex: 1 1 auto;      /* body grows to fill available space */
  display: flex;
  flex-direction: column;
  gap: 0.5rem;         /* consistent spacing between internal sections */
  min-height: 60px;    /* stabilize varying content like forms/badges */
}

.member-adventureline {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.adventurer-name {
  font-size: 1.05rem;
  color: var(--secondary);
  font-weight: 700;
}

.member-exp-badge {
  padding: 2px 8px;
  border: 1px solid var(--border);
  border-radius: 999px;
  background: var(--card);
  font-size: 0.85rem;
  color: var(--primary);
}

.member-subline {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-top: 0.25rem;
}

/* Style for the needs-name indicator */
.needs-name-text {
  font-size: 0.95rem;
  color: var(--muted);
}

/* Optional: style the name panel toggle to be compact */
.name-panel-toggle {
  margin-left: 0.25rem;
  border: 1px solid var(--border);
  background: var(--background);
  cursor: pointer;
  padding: 0.1rem 0.35rem;
  border-radius: 4px;
}
.name-panel-toggle:hover {
  background: var(--card);
}

/* proposals shared look */
.proposals-container {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.proposal-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.5rem 0.75rem;
  border: 1px solid var(--border);   /* solid border to match inputs */
  border-radius: 8px;                /* rounded corners to match inputs */
  background: var(--background);
}

.vote-count {
  font-weight: 800;
  font-size: 1rem;
  color: var(--secondary);
  margin-right: 0.5rem; /* extra space before button */
}

.vote-button, .choose-name-button {
  padding: 0.35rem 0.9rem;
  font-size: 0.875rem;
  color: var(--primary-foreground);
  background-color: var(--accent);  /* unify with propose button color */
  border: none;
  cursor: pointer;
  border-radius: 8px;               /* same rounding as proposal-item */
}
.vote-button:hover, .choose-name-button:hover {
  filter: brightness(0.95);
}

.no-proposals-text {
  font-size: 0.875rem;
  color: var(--muted);
}

/* subtle separator for sections within a card */
.member-section {
  margin-top: 0.75rem;
  padding-top: 0.75rem;
  border-top: 1px solid var(--border);
}

/* footer area for any bottom-aligned actions if needed */
.member-card__footer {
  margin-top: 0.75rem;
}

/* (duplicate removed) */

.proposal-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.35rem 0.5rem;
  border: 1px solid var(--border);
  border-radius: 8px;
  background: var(--background);
}

.vote-count {
  font-weight: 800;
  font-size: 1rem;
  color: var(--secondary);
}

.vote-button, .choose-name-button {
  padding: 0.25rem 0.75rem;
  font-size: 0.85rem;
  color: var(--primary-foreground);
  background-color: var(--secondary);
  border: none;
  cursor: pointer;
  border-radius: 6px;
}
.vote-button:hover, .choose-name-button:hover {
  filter: brightness(0.95);
}

.no-proposals-text {
  font-size: 0.875rem;
  color: var(--muted);
}

/* subtle separator for sections within a card */
.member-section {
  margin-top: 0.75rem;
  padding-top: 0.75rem;
  border-top: 1px solid var(--border);
}

/* Subline under the member name for status tags and controls */
.member-subline {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-top: 0.25rem;
  justify-content: flex-start; /* keep subline content left-aligned */
}

/* Style for the needs-name indicator */
.needs-name-text {
  font-size: 0.95rem;
  color: var(--muted);
}

/* Keep hireling tag looking like a secondary badge even when on subline */
.hireling-tag {
  margin-left: 0.25rem;
  font-size: 0.95rem;
  color: var(--muted);
}

/* Status badges: Joined / Voting / Finished */
.status-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  padding: 2px 8px;
  border-radius: 999px;
  font-size: 0.8rem;
  font-weight: 700;
  letter-spacing: 0.2px;
  border: 1px solid var(--border);
  background: var(--card);
  color: var(--primary);
}

.status-joined {
  background: #eff6ff;          /* blue-50 */
  border-color: #bfdbfe;        /* blue-200 */
  color: #1d4ed8;               /* blue-700 */
}

.status-voting {
  background: #fffbeb;          /* amber-50 */
  border-color: #fcd34d;        /* amber-300 */
  color: #b45309;               /* amber-700 */
}

.status-finished {
  background: #ecfdf5;          /* emerald-50 */
  border-color: #86efac;        /* emerald-300 */
  color: #047857;               /* emerald-700 */
}

/* Optional: style the name panel toggle to be compact */
.name-panel-toggle {
  margin-left: 0.25rem;
  border: 1px solid var(--border);
  background: var(--background);
  cursor: pointer;
  padding: 0.1rem 0.35rem;
  border-radius: 4px;
}
.name-panel-toggle:hover {
  background: var(--card);
}

.adventurer-name {
  font-size: 1.125rem;
  color: var(--secondary);
  font-weight: 600;
}

.tie-breaker-card {
  margin: 1rem 0;
  padding: 0.75rem;
  background-color: #fefcbf; /* A light yellow */
  border-left: 4px solid #facc15; /* A yellow color */
}

.tie-breaker-title {
  font-weight: bold;
  color: #713f12; /* A brown color */
}

.tie-breaker-text {
  font-size: 0.875rem;
  color: #854d0e; /* A darker brown */
}

.tie-breaker-buttons {
  display: flex;
  gap: 0.5rem;
  margin-top: 0.5rem;
}

.choose-name-button {
  padding: 0.35rem 0.9rem;
  font-size: 0.875rem;
  color: var(--primary-foreground);
  background-color: var(--accent);
  border: none;
  cursor: pointer;
  border-radius: 8px;
}

/* (duplicate removed) */

/* (duplicate removed) */

/* (duplicate removed) */

/* (duplicate removed) */
/* Distinct motto voting panel */
.motto-panel {
  margin-top: 0.75rem;
  border: 1px solid var(--border);
  background: var(--card);
  border-radius: 8px;
  overflow: hidden;
}
.motto-panel__header {
  background: var(--background);
  color: var(--primary);
  font-weight: 800;
  padding: 0.5rem 0.75rem;
  border-bottom: 1px solid var(--border);
  letter-spacing: 0.3px;
}
.motto-panel__body {
  padding: 0.75rem;
}
.motto-panel__propose {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 0.75rem;
}
.motto-input {
  background: var(--background);
  border-radius: 6px;
}
.motto-propose-btn, .motto-vote-btn {
  border-radius: 6px;
}
.motto-item {
  background: var(--background);
}
.motto-item--final {
  border-color: #16a34a; /* green-600 */
  box-shadow: 0 0 0 2px rgba(22,163,74,0.08) inset;
}
.motto-text {
  color: var(--primary);
  font-weight: 600;
}

/* Keep existing helpers */
.no-proposals-text {
  font-size: 0.875rem;
  color: var(--muted);
}

.propose-name-container {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding-top: 1rem;
  margin-top: 1rem;
  border-top: 1px solid var(--border);
}

/* Special: give hireling vote a dotted outline variant while keeping other proposal items solid */
.proposal-item--dotted {
  border-style: dashed;
  background: rgba(0,0,0,0.02);
}

.propose-name-input {
  flex-grow: 1;
  padding: 0.5rem;
  border: 1px solid var(--border);
}

.propose-name-button {
  padding: 0.5rem 1rem;
  color: var(--primary-foreground);
  background-color: var(--primary);
  border: none;
  cursor: pointer;
}
/* Morale banner (shared style with results) */
.morale-banner {
  margin: 0.25rem auto 1rem auto;
  padding: 0.5rem 0.75rem;
  max-width: 40rem;
  text-align: center;
  border: 1px solid var(--border);
  border-radius: 8px;
  background: var(--card);
  color: var(--foreground);
}
.morale-banner .morale-score {
  margin-left: 0.35rem;
  opacity: 0.8;
  font-weight: 600;
}
.morale-low {
  border-color: #fca5a5;      /* red-300 */
  background: #fef2f2;        /* red-50 */
  color: #991b1b;             /* red-800 */
}
.morale-neutral {
  border-color: #e5e7eb;      /* gray-200 */
  background: #f9fafb;        /* gray-50 */
  color: #374151;             /* gray-700 */
}
.morale-high {
  border-color: #86efac;      /* emerald-300 */
  background: #ecfdf5;        /* emerald-50 */
  color: #065f46;             /* emerald-800 */
}